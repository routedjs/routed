/** Routed v0.0.2 by switer **/
!function(){"use strict";function a(){u=1,j(q,function(a){a.next=d(),a.curr="",a.prev="",h({newURL:l.href})})()}function b(b){n.push(b),u||a()}function c(a){return(a||"").split("#")[1]||""}function d(){return l.hash.replace(/^#/,"")}function e(a){for(var b=0;b<n.length;b++)n[b].call(a,a)}function f(a){for(var b,c=0;c<o.length&&(b=o[c](a),b!==!1);c++);return b}function g(a,b,c){return a.curr===c&&a.next===b}function h(a){var b,d=c(a.oldURL),h=c(a.newURL),j=m[0];j&&(b=g(j,h,d))||(j=new i({type:r,prev:d})),j&&b&&m.shift(),j.path=h,delete j.next,delete j.curr,f(j)!==!1&&e(j)}function i(a){this.type=a.type,this.prev=a.prev}function j(a,b){return function(){var c=new i({type:a,prev:d()});m.push(c);var e=[].slice.call(arguments);e.unshift(c),b.apply(this,e)}}var k=window.history,l=window.location,m=[],n=[],o=[],p="hashchange",q="boot",r="manual",s="route",t="replace",u=0;b.use=function(a){o.push(a)};var v=k.back,w=k.forward;b.back=k.back=function(){v.apply(k,arguments)},b.forward=k.forward=function(){w.apply(k,arguments)},b.route=j(s,function(a,b){b=c(b),a.next=b,a.curr=d(),l.hash=b});var x=l.replace;b.replace=j(t,function(a,b){b=c(b),a.next=b,a.curr=d(),x.call(l,"#"+b)}),window.addEventListener?window.addEventListener(p,h,!1):win.attachEvent("on"+p,h),"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=b:exports.Routed=b:window.Routed=b}();